<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <link href="{{ url_for('static', filename='css/result_style.css') }}" rel="stylesheet" type="text/css">
   <link href="css/style.css" rel="stylesheet" type="text/css">
</head>

<body>
   {% for key,value in result.items() %}
   <div style="width:100%">
      <select class="select" name="keyword">
         <option class="options" value="none">===select===</option>
      </select>
      <div id="app" class="object">{{ key }} :
         {% for object in value %}
         <div class="word" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">{{ object }}</div>
         {% endfor %}
      </div>
      <div style="display: block; clear:both;">
      </div>
   </div>
   {% endfor %}

   <!-- javascript section -->
   <script>
         function allowDrop(ev){
             console.log("Target is " + ev.target.id);
             ev.preventDefault();
         }
         function drag(ev){
             ev.dataTransfer.setData("Text", ev.target.id);
             console.log(ev.target.id + " start." );
         }
         function drop(ev){
             ev.preventDefault();
             document.getElementBy(ev.target.id).innerText += " " + document.getElementById(ev.dataTransfer.getData("Text")).innerText;
             document.getElementById("container").removeChild(document.getElementById(ev.target.id));
             console.log(ev.dataTransfer.getData("Text") + " is dragged and dropped to " + ev.target.id );
         }
     </script>
</body>

</html>